{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05E4\\u05D9\\u05EA\\u05D5\\u05D7 \\u05D0\\u05E4\\u05DC\\u05D9\\u05E7\\u05E6\\u05D9\\u05D5\\u05EA\\\\webP\\\\webP\\\\client\\\\src\\\\components\\\\PrivateRoute.js\",\n    _s = $RefreshSig$();\n\nimport { Redirect, Route } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { StateContext } from \"../context/GlobalContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PrivateRoute(_ref) {\n  _s();\n\n  let {\n    component: Component,\n    path,\n    admin,\n    ...rest\n  } = _ref;\n  const {\n    user\n  } = useContext(StateContext);\n  console.log(\"user\", user);\n  console.log(\"user.auth\", user.auth);\n  console.log(\"user.isAdmin\", user.isAdmin);\n  console.log(\"admin\", admin);\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: props => user && user.auth ? admin ? user.isAdmin ? /*#__PURE__*/_jsxDEV(Component, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: \"/login\",\n        state: {\n          from: path\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(Component, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: \"/login\",\n        state: {\n          from: path\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PrivateRoute, \"y3FQDew7UyrSqYkvQcTdCsLbAB8=\");\n\n_c = PrivateRoute;\nPrivateRoute.defaultProps = {\n  admin: false\n};\nexport default PrivateRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["Redirect","Route","useContext","StateContext","PrivateRoute","component","Component","path","admin","rest","user","console","log","auth","isAdmin","props","pathname","state","from","defaultProps"],"sources":["C:/Users/User/OneDrive/Desktop/לימודים/פיתוח אפליקציות/webP/webP/client/src/components/PrivateRoute.js"],"sourcesContent":["import { Redirect, Route } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { StateContext } from \"../context/GlobalContext\";\n\nfunction PrivateRoute({ component: Component, path, admin, ...rest }) {\n  const { user } = useContext(StateContext);\n  console.log(\"user\", user)\n  console.log(\"user.auth\", user.auth)\n  console.log(\"user.isAdmin\", user.isAdmin)\n  console.log(\"admin\", admin)\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        user && user.auth ? (\n          admin ? (\n            user.isAdmin ? (\n              <Component {...props} />\n            ) : (\n              <Redirect to={{ pathname: \"/login\", state: { from: path } }} />\n            )\n          ) : (\n            <Component {...props} />\n          )\n        ) : (\n          <Redirect to={{ pathname: \"/login\", state: { from: path } }} />\n        )\n      }\n    />\n  );\n}\n\nPrivateRoute.defaultProps = {\n  admin: false,\n};\n\nexport default PrivateRoute;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,KAAnB,QAAgC,kBAAhC;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,YAAT,QAA6B,0BAA7B;;;AAEA,SAASC,YAAT,OAAsE;EAAA;;EAAA,IAAhD;IAAEC,SAAS,EAAEC,SAAb;IAAwBC,IAAxB;IAA8BC,KAA9B;IAAqC,GAAGC;EAAxC,CAAgD;EACpE,MAAM;IAAEC;EAAF,IAAWR,UAAU,CAACC,YAAD,CAA3B;EACAQ,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;EACAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,IAAI,CAACG,IAA9B;EACAF,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,IAAI,CAACI,OAAjC;EACAH,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB;EACA,oBACE,QAAC,KAAD,OACMC,IADN;IAEE,MAAM,EAAGM,KAAD,IACNL,IAAI,IAAIA,IAAI,CAACG,IAAb,GACEL,KAAK,GACHE,IAAI,CAACI,OAAL,gBACE,QAAC,SAAD,OAAeC;IAAf;MAAA;MAAA;MAAA;IAAA,QADF,gBAGE,QAAC,QAAD;MAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE,QAAZ;QAAsBC,KAAK,EAAE;UAAEC,IAAI,EAAEX;QAAR;MAA7B;IAAd;MAAA;MAAA;MAAA;IAAA,QAJC,gBAOH,QAAC,SAAD,OAAeQ;IAAf;MAAA;MAAA;MAAA;IAAA,QARJ,gBAWE,QAAC,QAAD;MAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE,QAAZ;QAAsBC,KAAK,EAAE;UAAEC,IAAI,EAAEX;QAAR;MAA7B;IAAd;MAAA;MAAA;MAAA;IAAA;EAdN;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD;;GA1BQH,Y;;KAAAA,Y;AA4BTA,YAAY,CAACe,YAAb,GAA4B;EAC1BX,KAAK,EAAE;AADmB,CAA5B;AAIA,eAAeJ,YAAf"},"metadata":{},"sourceType":"module"}